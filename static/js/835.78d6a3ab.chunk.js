"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[835],{7430:function(e,s,a){a.r(s),a.d(s,{default:function(){return k}});var n=a(2791),i="Dialogs_dialogsContent__IfR9A",t="Dialogs_button__bSNWQ",r=a(3504),c="DialogItem_dialogItem__FvYQI",o=a(5413),l=a(184),d=function(e){var s=e.dialog;return(0,l.jsx)("div",{children:(0,l.jsxs)(r.OL,{to:"/dialogs/".concat(s.id),className:c,children:[(0,l.jsx)(o.q,{width:30,photos:s.photos}),s.userName,s.hasNewMessages&&(0,l.jsx)("sup",{children:"\ud83d\udce9"})]})})},u="Message_message__E3cvw",g=function(e){var s=+e.split("-")[2].split("T")[0]%100,a=e.split("-")[1];switch(a){case"01":a="\u044f\u043d\u0432\u0430\u0440\u044f";break;case"02":a="\u0444\u0435\u0432\u0440\u0430\u043b\u044f";break;case"03":a="\u043c\u0430\u0440\u0442\u0430";break;case"04":a="\u0430\u043f\u0440\u0435\u043b\u044f";break;case"05":a="\u043c\u0430\u044f";break;case"06":a="\u0438\u044e\u043d\u044f";break;case"07":a="\u0438\u044e\u043b\u044f";break;case"08":a="\u0430\u0432\u0433\u0443\u0441\u0442\u0430";break;case"09":a="\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f";break;case"10":a="\u043e\u043a\u0442\u044f\u0431\u0440\u044f";break;case"11":a="\u043d\u043e\u044f\u0431\u0440\u044f";break;case"12":a="\u0434\u0435\u043a\u0430\u0431\u0440\u044f"}return s+" "+a+" "+e.split("-")[0]},f=function(e){var s=e.message;return console.log(s),(0,l.jsxs)("div",{className:u,children:[(0,l.jsxs)("span",{children:[s.body," "]}),(0,l.jsxs)("span",{style:{fontSize:"smaller"},children:[g(s.addedAt)," "]}),!s.viewed&&(0,l.jsx)("sup",{style:{color:"red"},children:"new"})]})},v=a(6871),h=a(6030),p=a(8281),x=a(7437),m=function(e){return e.dialogsPage.dialogs},b=function(e){return e.dialogsPage.messages},j=function(e){return e.dialogsPage.newMessageText},k=n.memo((function(){var e=(0,h.v9)(x.Od),s=(0,h.v9)(m),a=(0,h.v9)(b),r=(0,h.v9)(j),c=(0,v.UO)().id,o=(0,h.I0)();(0,n.useEffect)((function(){o((0,p.AB)()),console.log("dialogs:",s),c&&o((0,p._U)(c))}),[]),(0,n.useEffect)((function(){c&&(o((0,p.NS)(c)),o((0,p._U)(c)))}),[c]);var u=s.map((function(e){return(0,l.jsx)(d,{dialog:e},e.id)})),g=a.map((function(e){return(0,l.jsx)(f,{message:e},e.id)}));return e?(0,l.jsxs)("div",{className:i,children:[(0,l.jsx)("div",{children:u}),c&&(0,l.jsxs)("div",{children:[g,(0,l.jsx)("textarea",{onChange:function(e){return function(e){var s=e.target.value;o(p.Nw.updateMessageText(s))}(e)},value:r}),(0,l.jsx)("div",{className:t,children:(0,l.jsx)("button",{onClick:function(){o((0,p.bG)(c,r))},children:" Send message "})})]})]}):(0,l.jsx)(v.Fg,{to:"/login"})}))}}]);
//# sourceMappingURL=835.78d6a3ab.chunk.js.map